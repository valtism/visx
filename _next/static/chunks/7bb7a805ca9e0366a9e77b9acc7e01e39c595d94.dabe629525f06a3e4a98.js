(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[44],{"3Ng6":function(e){e.exports=JSON.parse('{"name":"@visx/demo-annotation","description":"Standalone visx annotation demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^17","@types/react-dom":"^17","@visx/annotation":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","d3-array":"^2.8.0","react":"^17","react-dom":"^17","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","annotation"]}')},HbGN:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n.d(t,"a",(function(){return a}))},erk3:function(e,t,n){"use strict";n.d(t,"b",(function(){return B})),n.d(t,"a",(function(){return K}));var a=n("HbGN"),s=n("jg1C"),c=n("ERkP"),i=n.n(c),o=n("/GET"),r=n("Xr0V"),l=n("aWzz"),d=n.n(l),u=n("O94r"),j=n.n(u),h=n("x7Vb"),b=n("+B5C"),x=n.n(b),p=n("zdwK"),m=n("4p4+");function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var f={display:"inline-block"};function v(e){var t=e.anchorLineStroke,n=void 0===t?"#222":t,a=e.children,s=e.className,o=e.containerStyle,r=e.horizontalAnchor,l=e.resizeObserverPolyfill,d=e.showAnchorLine,u=void 0===d||d,b=e.verticalAnchor,v=e.x,y=e.y,g=Object(h.a)({polyfill:l}),N=g[0],S=g[1],k=S.width,w=S.height,C=Object(c.useContext)(p.a),E=C.x,A=void 0===E?0:E,_=C.y,T=void 0===_?0:_,z=C.dx,P=void 0===z?0:z,L=C.dy,V=void 0===L?0:L,D=r||(Math.abs(P)<Math.abs(V)?"middle":P>0?"start":"end"),R=b||(Math.abs(P)>Math.abs(V)?"middle":V>0?"start":"end"),q=Object(c.useMemo)((function(){var e=null==v?A+P:v,t=null==y?T+V:y;return"middle"===D&&(e-=k/2),"end"===D&&(e-=k),"middle"===R&&(t-=w/2),"end"===R&&(t-=w),{x:e,y:t}}),[v,A,P,y,T,V,D,R,k,w]);return i.a.createElement(x.a,{top:q.y,left:q.x,pointerEvents:"none",className:j()("visx-annotationlabel",s)},i.a.createElement("foreignObject",{width:k,height:w,overflow:"visible"},i.a.createElement("div",{ref:N,style:o?O({},f,o):f},a)),u&&i.a.createElement(m.a,{anchorLineOrientation:Math.abs(P)>Math.abs(V)?"vertical":"horizontal",anchorLineStroke:n,verticalAnchor:R,horizontalAnchor:D,width:k,height:w}))}v.propTypes={children:d.a.node};var y=n("amCE"),g=n("tNN4"),N=n("geX1"),S=n("zjfJ"),k=n("yFcC"),w=n.n(k),C=n("oT5u"),E=n.n(C),A=n("cjvV"),_=n("67po"),T=n("ue4z"),z=n("xH1m"),P=n("5srZ");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=E.a.slice(-100),R=function(e){return new Date(e.date).valueOf()},q=function(e){return e.close},I=D[Math.floor(D.length/2)+4];function M(e){var t,n,a=e.width,i=e.height,o=e.compact,r=void 0!==o&&o,l=e.children,d=Object(c.useMemo)((function(){return Object(A.a)({domain:Object(T.b)(D,(function(e){return R(e)})),range:[0,a]})}),[a]),u=Object(c.useMemo)((function(){return Object(_.a)({domain:Object(T.b)(D,(function(e){return q(e)})),range:[i-100,100]})}),[i]),j=Object(c.useState)(!1),h=j[0],b=j[1],x=Object(c.useState)(!1),p=x[0],m=x[1],O=Object(c.useState)("Title"),f=O[0],v=O[1],y=Object(c.useState)(r?"Subtitle":"Subtitle with deets and deets and deets and deets"),g=y[0],N=y[1],S=Object(c.useState)("elbow"),k=S[0],C=S[1],E=Object(c.useState)("circle"),L=E[0],M=E[1],H=Object(c.useState)(!0),B=H[0],K=H[1],Y=Object(c.useState)("svg"),W=Y[0],J=Y[1],F=Object(c.useState)("auto"),G=F[0],X=F[1],Z=Object(c.useState)("auto"),Q=Z[0],U=Z[1],$=Object(c.useState)(r?100:175)[0],ee=Object(c.useState)({x:null!==(t=d(R(I)))&&void 0!==t?t:0,y:null!==(n=u(q(I)))&&void 0!==n?n:0,dx:r?-50:-100,dy:r?-30:-50}),te=ee[0],ne=ee[1];return Object(c.useEffect)((function(){ne((function(e){var t,n;return V(V({},e),{},{x:null!==(t=d(R(I)))&&void 0!==t?t:0,y:null!==(n=u(q(I)))&&void 0!==n?n:0})}))}),[d,u]),Object(s.jsxs)(s.Fragment,{children:[l({AnnotationComponent:h||p?z.a:P.a,annotationPosition:te,approxTooltipHeight:70,connectorType:k,data:D,editLabelPosition:h,editSubjectPosition:p,getDate:R,getStockValue:q,horizontalAnchor:"auto"===Q?void 0:Q,labelType:W,labelWidth:$,setAnnotationPosition:ne,showAnchorLine:B,subjectType:L,subtitle:g,title:f,verticalAnchor:"auto"===G?void 0:G,xScale:d,yScale:u}),!r&&Object(s.jsxs)("div",{className:"jsx-272244364 controls",children:[Object(s.jsxs)("div",{className:"jsx-272244364",children:[Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("strong",{className:"jsx-272244364",children:"Title"}),"\xa0\xa0",Object(s.jsx)("input",{type:"text",onChange:function(e){return v(e.target.value)},value:f,className:"jsx-272244364"})]}),"\xa0\xa0\xa0",Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("strong",{className:"jsx-272244364",children:"Subtitle"}),"\xa0\xa0",Object(s.jsx)("input",{type:"text",onChange:function(e){return N(e.target.value)},value:g,className:"jsx-272244364"})]}),"\xa0\xa0\xa0",Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(){return m(!p)},checked:p,className:"jsx-272244364"}),"Edit subject position"]}),"\xa0\xa0",Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(){return b(!h)},checked:h,className:"jsx-272244364"}),"Edit label position"]})]}),Object(s.jsxs)("div",{className:"jsx-272244364",children:[Object(s.jsx)("strong",{className:"jsx-272244364",children:"Label content type"}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return J("svg")},checked:"svg"===W,className:"jsx-272244364"}),"Svg"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return J("html")},checked:"html"===W,className:"jsx-272244364"}),"Html"]})]}),Object(s.jsxs)("div",{className:"jsx-272244364",children:[Object(s.jsx)("strong",{className:"jsx-272244364",children:"Connector type"}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return C("elbow")},checked:"elbow"===k,className:"jsx-272244364"}),"Elbow"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return C("line")},checked:"line"===k,className:"jsx-272244364"}),"Straight line"]})]}),Object(s.jsxs)("div",{className:"jsx-272244364",children:[Object(s.jsx)("strong",{className:"jsx-272244364",children:"Subject type"}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return M("circle")},checked:"circle"===L,className:"jsx-272244364"}),"Circle"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return M("vertical-line")},checked:"vertical-line"===L,className:"jsx-272244364"}),"Vertical line"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return M("horizontal-line")},checked:"horizontal-line"===L,className:"jsx-272244364"}),"Horizontal line"]})]}),Object(s.jsxs)("div",{className:"jsx-272244364",children:[Object(s.jsx)("strong",{className:"jsx-272244364",children:"Horizontal label anchor"}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return U("auto")},checked:"auto"===Q,className:"jsx-272244364"}),"auto"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return U("start")},checked:"start"===Q,className:"jsx-272244364"}),"left"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return U("middle")},checked:"middle"===Q,className:"jsx-272244364"}),"middle"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return U("end")},checked:"end"===Q,className:"jsx-272244364"}),"right"]})]}),Object(s.jsxs)("div",{className:"jsx-272244364",children:[Object(s.jsx)("strong",{className:"jsx-272244364",children:"Vertical label anchor"}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return X("auto")},checked:"auto"===G,className:"jsx-272244364"}),"auto"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return X("start")},checked:"start"===G,className:"jsx-272244364"}),"top"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return X("middle")},checked:"middle"===G,className:"jsx-272244364"}),"middle"]}),Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"radio",onChange:function(){return X("end")},checked:"end"===G,className:"jsx-272244364"}),"bottom"]}),Object(s.jsx)("div",{className:"jsx-272244364",children:Object(s.jsxs)("label",{className:"jsx-272244364",children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(){return K(!B)},checked:B,className:"jsx-272244364"}),"Show anchor line"]})})]})]}),Object(s.jsx)(w.a,{id:"272244364",children:[".controls.jsx-272244364{font-size:13px;line-height:1.5em;}",".controls.jsx-272244364>div.jsx-272244364{margin-bottom:4px;}"]})]})}try{M.displayName="ExampleControls",M.__docgenInfo={description:"",displayName:"ExampleControls",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},compact:{defaultValue:{value:!1},description:"",name:"compact",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/ExampleControls.tsx#ExampleControls"]={docgenInfo:M.__docgenInfo,name:"ExampleControls",path:"src/sandboxes/visx-annotation/ExampleControls.tsx#ExampleControls"})}catch(Y){}function H(e){var t=e.value,n=e.scale,a=e.accessor,s=e.data,c=Object(T.a)(a).left,i=n.invert(t),o=c(s,i,1),r=s[o-1],l=s[o],d=r;return l&&a(l)&&(d=i-a(r)>a(l)-i?l:r),d}try{H.displayName="findNearestDatum",H.__docgenInfo={description:"",displayName:"findNearestDatum",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"ScaleLinear<unknown, unknown, never> | ScaleTime<unknown, unknown, never>"}},accessor:{defaultValue:null,description:"",name:"accessor",required:!0,type:{name:"(d: AppleStock) => number"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"AppleStock[]"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/findNearestDatum.ts#findNearestDatum"]={docgenInfo:H.__docgenInfo,name:"findNearestDatum",path:"src/sandboxes/visx-annotation/findNearestDatum.ts#findNearestDatum"})}catch(Y){}var B=["#ecf4f3","#68b0ab","#006a71"];function K(e){var t=e.width,n=e.height,c=e.compact,i=void 0!==c&&c;return Object(s.jsx)(M,{width:t,height:n,compact:i,children:function(e){var c=e.AnnotationComponent,i=e.annotationPosition,l=e.approxTooltipHeight,d=e.connectorType,u=e.data,j=e.editLabelPosition,h=e.editSubjectPosition,b=e.getDate,x=e.getStockValue,p=e.horizontalAnchor,m=e.labelType,O=e.labelWidth,f=e.setAnnotationPosition,S=e.showAnchorLine,k=e.subjectType,w=e.subtitle,C=e.title,E=e.verticalAnchor,A=e.xScale,_=e.yScale;return Object(s.jsxs)("svg",{width:t,height:n,children:[Object(s.jsx)("rect",{width:t,height:n,fill:B[0]}),Object(s.jsx)(N.a,{stroke:B[2],strokeWidth:2,data:u,x:function(e){var t;return null!==(t=A(b(e)))&&void 0!==t?t:0},y:function(e){var t;return null!==(t=_(x(e)))&&void 0!==t?t:0}}),Object(s.jsxs)(c,{width:t,height:n,x:i.x,y:i.y,dx:i.dx,dy:i.dy,canEditLabel:j,canEditSubject:h,onDragEnd:function(e){e.event;var s,c,i=Object(a.a)(e,["event"]),o=H({accessor:"horizontal-line"===k?x:b,data:u,scale:"horizontal-line"===k?_:A,value:"horizontal-line"===k?i.y:i.x}),r=null!==(s=A(b(o)))&&void 0!==s?s:0,d=null!==(c=_(x(o)))&&void 0!==c?c:0,j=i.dx>0&&r+i.dx+O>t||i.dx<0&&r+i.dx-O<=0,h=i.dy>0&&n-(d+i.dy)<l||i.dy<0&&d+i.dy-l<=0;f({x:r,y:d,dx:(j?-1:1)*i.dx,dy:(h?-1:1)*i.dy})},children:[Object(s.jsx)(o.a,{stroke:"#ff7e67",type:d}),"svg"===m?Object(s.jsx)(r.a,{backgroundFill:"white",showAnchorLine:S,anchorLineStroke:B[2],backgroundProps:{stroke:B[1]},fontColor:B[2],horizontalAnchor:p,subtitle:w,title:C,verticalAnchor:E,width:O}):Object(s.jsxs)(v,{showAnchorLine:S,anchorLineStroke:B[2],horizontalAnchor:p,verticalAnchor:E,containerStyle:{width:O,background:"white",border:"1px solid ".concat(B[1]),borderRadius:2,color:B[2],fontSize:"0.55em",lineHeight:"1em",padding:"0 0.4em 0 1em",fontWeight:200},children:[Object(s.jsx)("h3",{style:{margin:"1em 0 -0.5em"},children:C}),Object(s.jsx)("p",{children:w})]}),"circle"===k&&Object(s.jsx)(y.a,{stroke:"#ff7e67"}),"circle"!==k&&Object(s.jsx)(g.a,{orientation:"vertical-line"===k?"vertical":"horizontal",stroke:"#ff7e67",min:0,max:"vertical-line"===k?n:t})]})]})}})}try{K.displayName="Example",K.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},compact:{defaultValue:{value:!1},description:"",name:"compact",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/Example.tsx#Example"]={docgenInfo:K.__docgenInfo,name:"Example",path:"src/sandboxes/visx-annotation/Example.tsx#Example"})}catch(Y){}}}]);